"use strict";(self.webpackChunkwhg_training_resources=self.webpackChunkwhg_training_resources||[]).push([[9382],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=i,h=m["".concat(l,".").concat(d)]||m[d]||c[d]||o;return n?a.createElement(h,r(r({ref:t},u),{},{components:n})):a.createElement(h,r({ref:t},u))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:i,r[1]=s;for(var p=2;p<o;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4598:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const o={sidebar_position:2},r="R as a calculator",s={unversionedId:"programming/introduction_to_R/fundamentals",id:"programming/introduction_to_R/fundamentals",title:"R as a calculator",description:"We'll assume you have started an R prompt - if not go and start one now.",source:"@site/docs/programming/introduction_to_R/fundamentals.md",sourceDirName:"programming/introduction_to_R",slug:"/programming/introduction_to_R/fundamentals",permalink:"/whg-training-resources/programming/introduction_to_R/fundamentals",draft:!1,editUrl:"https://github.com/whg-training/whg-training-resources/edit/main/docs/programming/introduction_to_R/fundamentals.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"sidebar5",previous:{title:"Introduction to R",permalink:"/whg-training-resources/programming/introduction_to_R/"},next:{title:"Computing with lots of values at once",permalink:"/whg-training-resources/programming/introduction_to_R/vectors"}},l={},p=[{value:"First steps",id:"first-steps",level:2},{value:"Functions",id:"functions",level:3},{value:"The Help Function",id:"the-help-function",level:4},{value:"Creating Your Own Functions",id:"creating-your-own-functions",level:4},{value:"Logic and If Statements",id:"logic-and-if-statements",level:3},{value:"If Statements",id:"if-statements",level:4},{value:"Recap Questions",id:"recap-questions",level:4}],u={toc:p},m="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(m,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"r-as-a-calculator"},"R as a calculator"),(0,i.kt)("p",null,"We'll assume you have started an R prompt - if not go and ",(0,i.kt)("a",{parentName:"p",href:"/whg-training-resources/programming/introduction_to_R/#getting-r"},"start one now"),"."),(0,i.kt)("h2",{id:"first-steps"},"First steps"),(0,i.kt)("p",null,"Let's try out R by trying a few interactive commands.  First, can R add numbers together?"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"> 5 + 10\n[1] 15\n")),(0,i.kt)("p",null,"It can!  It can also subtract them (",(0,i.kt)("inlineCode",{parentName:"p"},"-"),"), multiply them (",(0,i.kt)("inlineCode",{parentName:"p"},"*"),"), divide them (",(0,i.kt)("inlineCode",{parentName:"p"},"/"),"), or exponentiate them (",(0,i.kt)("inlineCode",{parentName:"p"},"^"),")."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Start by playing around with these ",(0,i.kt)("strong",{parentName:"p"},"arithmetic operations")," now to make sure you know what they are doing. "),(0,i.kt)("p",{parentName:"div"},"For example, what's ",(0,i.kt)("span",{parentName:"p",className:"math math-inline"},(0,i.kt)("span",{parentName:"span",className:"katex"},(0,i.kt)("span",{parentName:"span",className:"katex-mathml"},(0,i.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,i.kt)("semantics",{parentName:"math"},(0,i.kt)("mrow",{parentName:"semantics"},(0,i.kt)("mn",{parentName:"mrow"},"5")),(0,i.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"5")))),(0,i.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,i.kt)("span",{parentName:"span",className:"base"},(0,i.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,i.kt)("span",{parentName:"span",className:"mord"},"5")))))," to the power of ",(0,i.kt)("span",{parentName:"p",className:"math math-inline"},(0,i.kt)("span",{parentName:"span",className:"katex"},(0,i.kt)("span",{parentName:"span",className:"katex-mathml"},(0,i.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,i.kt)("semantics",{parentName:"math"},(0,i.kt)("mrow",{parentName:"semantics"},(0,i.kt)("mn",{parentName:"mrow"},"10")),(0,i.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"10")))),(0,i.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,i.kt)("span",{parentName:"span",className:"base"},(0,i.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,i.kt)("span",{parentName:"span",className:"mord"},"10"))))),"? Try"),(0,i.kt)("pre",{parentName:"div"},(0,i.kt)("code",{parentName:"pre"},"> 5^10\n")),(0,i.kt)("p",{parentName:"div"},"to find out."))),(0,i.kt)("p",null,"R can also manipulate other things, like strings.  Let's try a string now:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'> "This is a string"\n')),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Strings can also be given using single quotes, as in ",(0,i.kt)("inlineCode",{parentName:"p"},"'This is also a string'"),"."))),(0,i.kt)("p",null,"However, you can't add two strings together - try it:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'> "This is a string" + " as well"\nError in "This is a string" + " as well" : \n  non-numeric argument to binary operator\n')),(0,i.kt)("p",null,"This illustrates that ",(0,i.kt)("strong",{parentName:"p"},"if you get something wrong")," R will try to tell you what it is.  Here it's telling us that the\n'binary operator' (which is ",(0,i.kt)("inlineCode",{parentName:"p"},"+"),") expects 'numeric arguments' (i.e. numbers), as opposed to the strings we gave it."),(0,i.kt)("p",null,"That doesn't mean you can't concatenate strings - you can.  In R, operations on strings use particular functions.  The\none we want here is ",(0,i.kt)("inlineCode",{parentName:"p"},"paste()"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'> paste( "This is a string", "as well" )\n[1] This is a string as well.\n')),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Why 'paste'?  Good question.  This illustrates one of the worst aspects of R - some of the built-in functions have\nfairly cryptic names.  Later on we'll suggest some useful libraries that make this easier."))),(0,i.kt)("h3",{id:"functions"},"Functions"),(0,i.kt)("p",null,"R comes with a wide variety of functions, for mathematical and statistical operations. To call an R function, you use the function name and round brackets (",(0,i.kt)("inlineCode",{parentName:"p"},"("),", ",(0,i.kt)("inlineCode",{parentName:"p"},")"),"). The arguments to the function go inside the brackets, separated by commas. R functions support both ",(0,i.kt)("strong",{parentName:"p"},"default arguments")," and ",(0,i.kt)("strong",{parentName:"p"},"named arguments"),". Many of R's core functions have many, many possible arguments, and it would be impractical to have to type them all out."),(0,i.kt)("p",null,"An example of using an R function is:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"> runif(1)\n[1] 0.03999256\n")),(0,i.kt)("p",null,"This has generated a random number from a uniform distribution. The argument 1 says how many numbers to generate. The function has two other arguments with default arguments, for the minimum and maximum values the random number can take. We can change those from the default values by adding arguments:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"> runif(1, 0.25, 0.5)\n[1] 0.3332207\n> runif(1, max=0.5, min=0.25)\n[1] 0.3211315\n")),(0,i.kt)("p",null,"Note that both of these commands are using the same uniform distribution, between 0.25 and 0.5. In the first example, we give the argument in the order the function expects. in the second, we use named arguments to set them so we don't have to worry about the correct order."),(0,i.kt)("p",null,"At this point, you may be wondering how you know what order the arugments need to be, or what they are named. This where the ",(0,i.kt)("inlineCode",{parentName:"p"},"help")," function comes in."),(0,i.kt)("h4",{id:"the-help-function"},"The Help Function"),(0,i.kt)("p",null,"You can use the function:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"> help(runif)")),(0,i.kt)("p",null,"To look at R's help file for the function we used above. This will either open the html help file in a new browser window or show the help file in a command line text viewer (depending on how you are running R)."),(0,i.kt)("p",null,"R help files are, unfortauntely, something of a mixed bag. They tend to be very thorough with respect to details, but aren't so good at explaining the context a function is meant to be used in. They are also not very useful when you know ",(0,i.kt)("em",{parentName:"p"},"what")," you want to do, but you don't know where to start looking. In those cases, a web search will probably be more informative."),(0,i.kt)("p",null,"You can also look at the help for a function using this short-hand:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"> ?runif")),(0,i.kt)("p",null,"You can perform a fuzzy search using a double question mark:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"> ??runif")),(0,i.kt)("h4",{id:"creating-your-own-functions"},"Creating Your Own Functions"),(0,i.kt)("p",null,"You can write your own functions in R. These are treated as objects, stored alongside data, with names that follow the same rules. Although it's possible to write them using R's command line interface it's more convenient to write them in a text editor or IDE and then load them into R. Creating a function in R looks like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"my_exp_function <- function(arg1, arg2=10){\n    out <- arg2 ^ arg1\n    return(out)\n}\n")),(0,i.kt)("p",null,"(This is shown as it would appear in a script, without prompts)"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"my_exp_function <-")," part is assigning the function to that name, as you would with a data object."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"function")," is an R function, used to create a function, and it's hopefully not as confusing to understand as it was to type out."),(0,i.kt)("p",null,"Inside the round brackets are the argument names that the function will use. The second one is given a default value of 10 (using ",(0,i.kt)("inlineCode",{parentName:"p"},"="),"; which is the only part of standard R code style where you should use ",(0,i.kt)("inlineCode",{parentName:"p"},"="),")."),(0,i.kt)("p",null,"The curly brackets (",(0,i.kt)("inlineCode",{parentName:"p"},"{"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"}"),") contain the code block for the function itself. Inside that block are valid lines of R code, which are executed one by one when the function is called."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"return(out)")," is a special function that it used to give the return value of a function. You can only return one value, and lines of code after this return function would be ignored."),(0,i.kt)("p",null,"We create an object inside this function. Objects created inside functions in this way are discarded after the function completes."),(0,i.kt)("h3",{id:"logic-and-if-statements"},"Logic and If Statements"),(0,i.kt)("p",null,"The comparison and equality operators in R do not result in number but in logical values. In R, these are represented by the special values ",(0,i.kt)("inlineCode",{parentName:"p"},"TRUE")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"FALSE"),". They can abbreviated as ",(0,i.kt)("inlineCode",{parentName:"p"},"T")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"F"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"> 2 < 3\n[1] TRUE\n")),(0,i.kt)("p",null,"The table earlier gives you two logical operators: ",(0,i.kt)("inlineCode",{parentName:"p"},"&")," for 'and' and ",(0,i.kt)("inlineCode",{parentName:"p"},"|")," for 'or'."),(0,i.kt)("h4",{id:"if-statements"},"If Statements"),(0,i.kt)("p",null,"As in many programming languages, you may need to write code that is only executed when certain conditions are met. The structure that R uses looks like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'> if(x > 10) {\n+   "Big"\n+ } else {\n+   "Small"\n+ }\n[1] "Big"\n')),(0,i.kt)("p",null,"Here we are taking advantage of the continuation prompt to write this over multiple lines so it's easier to read."),(0,i.kt)("p",null,"The keyword ",(0,i.kt)("inlineCode",{parentName:"p"},"if")," kicks things off. Inside the round brackets there must be an expression that evaluates to a single logical value. In the next section we will discuss how to use R's vectors, but this part of an ",(0,i.kt)("inlineCode",{parentName:"p"},"if")," statement is one place where you must have only a single value."),(0,i.kt)("p",null,"If that expression evaluates to ",(0,i.kt)("inlineCode",{parentName:"p"},"TRUE"),", then the code inside the curly brackets will be run. Otherwise, it will not."),(0,i.kt)("p",null,"The follow-up keyword ",(0,i.kt)("inlineCode",{parentName:"p"},"else")," marks a second block, which will be run when the condition evaluates to ",(0,i.kt)("inlineCode",{parentName:"p"},"FALSE"),"."),(0,i.kt)("h4",{id:"recap-questions"},"Recap Questions"),(0,i.kt)("p",null,"todo..."))}c.isMDXComponent=!0}}]);